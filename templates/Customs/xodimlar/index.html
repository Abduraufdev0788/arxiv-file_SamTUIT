<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>SamTUIT | O‚Äòqituvchilar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .hero-gradient {
            background: linear-gradient(135deg, #0f4c81 0%, #1565a3 50%, #0b6cb8 100%);
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">

<!-- ================= NAVBAR ================= -->
<nav class="bg-white sticky top-0 z-50 border-b shadow-sm">
    <div class="max-w-7xl mx-auto px-6 h-16 flex justify-between items-center">

        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-700 rounded-xl flex items-center justify-center text-white font-black">
                S
            </div>
            <span class="font-black text-blue-700">SamTUIT</span>
        </div>

        <!-- Desktop menu -->
        <div class="hidden md:flex gap-6 font-semibold text-slate-600">
            <a href="{% url 'index:home_page' %}" class="hover:text-blue-700">Asosiy</a>
            <a href="{% url 'qarorlar:qarorlar_bosh' %}" class="hover:text-blue-700">Qarorlar</a>
            <a href="{% url "user:bmi" %}" class="hover:text-blue-700">Bitiruv Ishlari</a>
            <a href="{% url "user:bmi" %}" class="hover:text-blue-700">Talabalar</a>
            <a href="{% url "user:xodimlar" %}" class="text-blue-700 border-b-2 border-blue-700">Xodimlar</a>
            <a href="{% url "user:professors" %}" class="hover:text-blue-700 pt-0">Professorlar</a>
            <a href="#" class="hover:text-blue-700">Bog‚Äòlanish</a>
        </div>

        <!-- Mobile button -->
        <button onclick="toggleMenu()" class="md:hidden text-2xl font-black">
            ‚ò∞
        </button>
    </div>

    <!-- Mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-white border-t px-6 py-4 space-y-3 font-semibold">
            <a href="{% url 'index:home_page' %}" class="block">Asosiy</a>
            <a href="{% url 'qarorlar:qarorlar_bosh' %}" class="block">Qarorlar</a>
            <a href="{% url "user:bmi" %}" class="block">Bitiruv Ishlari</a>
            <a href="{% url "user:bmi" %}" class="block">Talabalar</a>
            <a href="{% url "user:xodimlar" %}" class="hover:text-blue-700 border-b-2 border-blue-700">Xodimlar</a>
            <a href="{% url "user:professors" %}" class="block">Professorlar</a>
            <a href="#" class="block">Bog‚Äòlanish</a>
    </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero-gradient text-white py-16 text-center">
    <h1 class="text-4xl font-black mb-3">Xodimlar ro‚Äòyxati</h1>
    <p class="text-blue-100">Filialdagi faol Xodimlar</p>
</section>

<!-- ================= FILTER ================= -->
<section class="max-w-7xl mx-auto px-6 -mt-10 relative z-10">
    <form method="get"
          class="bg-white rounded-2xl shadow-xl p-6 grid grid-cols-1 md:grid-cols-4 gap-4">

        <input type="text"
               name="full_name"
               value="{{ request.GET.full_name }}"
               placeholder="Ism yoki familiya"
               class="border rounded-xl px-4 py-3">

        <select name="ishlagan_bolimi"
                class="border rounded-xl px-4 py-3">
            <option value="">Bo‚Äòlim</option>
            {% for key, value in kafedralar %}
                <option value="{{ key }}" {% if request.GET.ishlagan_bolimi == key %}selected{% endif %}>
                    {{ value }}
                </option>
            {% endfor %}
        </select>

        <select name="ishlagan_lavozimi"
                class="border rounded-xl px-4 py-3">
            <option value="">Lavozim</option>
            {% for key, value in lavozimlar %}
                <option value="{{ key }}" {% if request.GET.ishlagan_lavozimi == key %}selected{% endif %}>
                    {{ value }}
                </option>
            {% endfor %}
        </select>

        <button type="submit"
                class="bg-blue-600 text-white font-black rounded-xl px-6 py-3 hover:bg-blue-700">
            üîç Qidirish
        </button>
    </form>
</section>

<!-- ================= DESKTOP TABLE ================= -->
<section class="max-w-7xl mx-auto px-6 pt-12 hidden md:block">
    <div class="bg-white rounded-3xl shadow overflow-x-auto">
        <table class="min-w-full text-sm">
            <thead class="bg-slate-100 text-xs uppercase font-black text-slate-600">
                <tr>
                    <th class="px-4 py-3">‚Ññ</th>
                    <th class="px-4 py-3">Ism</th>
                    <th class="px-4 py-3">Familiya</th>
                    <th class="px-4 py-3">Bo‚Äòlim</th>
                    <th class="px-4 py-3">Lavozim</th>
                    <th class="px-4 py-3">Qabul</th>
                    <th class="px-4 py-3">Chiqish</th>
                    <th class="px-4 py-3">Holat</th>
                </tr>
            </thead>
            <tbody class="divide-y">
                {% for teacher in teachers %}
                <tr class="hover:bg-blue-50">
                    <td class="px-4 py-2 font-bold">{{ forloop.counter }}</td>
                    <td class="px-4 py-2">{{ teacher.first_name }}</td>
                    <td class="px-4 py-2">{{ teacher.last_name }}</td>
                    <td class="px-4 py-2">{{ teacher.ishlagan_bolimi }}</td>
                    <td class="px-4 py-2 font-semibold text-blue-700">
                        {{ teacher.ishlagan_lavozimi }}
                    </td>
                    <td class="px-4 py-2">
                        {{ teacher.qabul_sana|date:"d.m.Y" }}
                    </td>
                    <td class="px-4 py-2">
                        {{ teacher.chiqish_sana|date:"d.m.Y"|default:"‚Äî" }}
                    </td>
                    <td class="px-4 py-2">
                        {% if teacher.is_active %}
                            <span class="text-green-700 font-bold">Faol</span>
                        {% else %}
                            <span class="text-red-700 font-bold">Faol emas</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center py-10 font-bold text-slate-500">
                        O‚Äòqituvchi topilmadi
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</section>

<!-- ================= MOBILE CARDS ================= -->
<section class="max-w-7xl mx-auto px-6 pt-12 md:hidden space-y-4">
    {% for teacher in teachers %}
    <div class="bg-white rounded-2xl shadow p-5">
        <h3 class="font-black text-lg text-blue-700">
            {{ teacher.first_name }} {{ teacher.last_name }}
        </h3>

        <p class="text-sm text-slate-600 mt-1">
            {{ teacher.ishlagan_lavozimi }}
        </p>

        <div class="mt-3 text-sm space-y-1">
            <p><b>Bo‚Äòlim:</b> {{ teacher.ishlagan_bolimi }}</p>
            <p><b>Qabul:</b> {{ teacher.qabul_sana|date:"d.m.Y" }}</p>
            <p><b>Chiqish:</b>
                {{ teacher.chiqish_sana|date:"d.m.Y"|default:"‚Äî" }}
            </p>
        </div>

        <div class="mt-3">
            {% if teacher.is_active %}
                <span class="inline-block px-3 py-1 text-xs rounded-full bg-green-100 text-green-700 font-bold">
                    Faol
                </span>
            {% else %}
                <span class="inline-block px-3 py-1 text-xs rounded-full bg-red-100 text-red-700 font-bold">
                    Faol emas
                </span>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</section>

<footer class="bg-slate-900 text-slate-400 py-6 mt-16 text-center text-xs font-bold">
    ¬© 2025 SamTUIT | O‚Äòqituvchilar bo‚Äòlimi
</footer>

<script>
function toggleMenu() {
    document.getElementById('mobileMenu').classList.toggle('hidden');
}
</script>

</body>
</html>

{% load static %}
<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>Talabalar | SamTUIT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    

    <style>
        body {
            background: #f1f3f5;
            font-family: Inter, system-ui, sans-serif;
        }

        /* ===== NAVBAR ===== */
        .navbar-samtuit {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid #e5e7eb;
        }

        .logo-box {
            width: 46px;
            height: 46px;
            border-radius: 14px;
            background: linear-gradient(135deg, #0f4c81, #0b6cb8);
            color: #fff;
            font-weight: 900;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        /* ===== HERO ===== */
        .hero {
            background: linear-gradient(135deg, #0f4c81 0%, #1565a3 50%, #0b6cb8 100%);
            color: white;
            padding: 100px 0;
            text-align: center;
        }

        .hero h1 {
            font-weight: 900;
            font-size: 48px;
        }

        .hero span {
            background: linear-gradient(to right, #6ee7b7, #5eead4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* ===== SEARCH CARD ===== */
        .search-card {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 20px 40px rgba(0,0,0,.15);
            padding: 24px;
            margin-top: -60px;
        }

        /* ===== CONTENT ===== */
        .table-wrapper {
            background: #fff;
            border-radius: 14px;
            padding: 16px;
            box-shadow: 0 4px 18px rgba(0,0,0,.08);
        }

        .badge-box {
            background: #e0edff;
            color: #0d6efd;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        /* ===== MOBILE CARD ===== */
        .student-card {
            background: #fff;
            border-radius: 12px;
            padding: 14px;
            margin-bottom: 12px;
            box-shadow: 0 3px 10px rgba(0,0,0,.08);
        }

        @media (max-width: 768px) {
            table { display: none; }
        }

        @media (min-width: 769px) {
            .mobile-list { display: none; }
        }
    </style>
</head>

<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-samtuit sticky-top">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center gap-3" href="#">
            <div class="logo-box">S</div>
            <div>
                <div class="fw-black text-primary">SamTUIT</div>
                <small class="text-muted text-uppercase fw-bold">
                    Talabalar boâ€˜limi
                </small>
            </div>
        </a>
        <button class="navbar-toggler border-0"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#mainNavbar"
                aria-controls="mainNavbar"
                aria-expanded="false"
                aria-label="Toggle navigation">

            <span class="navbar-toggler-icon"></span>
        </button>


        <div class="collapse navbar-collapse" id="mainNavbar">
            <ul class="navbar-nav ms-auto gap-4 fw-semibold">
                <li class="nav-item"><a class="nav-link" href="{% url 'user:user_home' %}">Asosiy</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url "user:qarorlar" %}">Qarorlar</a></li>
                <li class="nav-item"><a class="nav-link active text-primary" href="{% url "user:bmi" %}">Bitiruv Ishlari</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url "user:talabalar" %}">Talabalar</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url "user:xodimlar" %}">Xodimlar</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url "user:professors" %}">Professorlar</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url "index:contacts" %}">Bogâ€˜lanish</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero">
    <div class="container">
        <h1>
            Bitiruv malakaviy ishlar <br>
            <span>talabalar roâ€˜yxati</span>
        </h1>
        <p class="mt-3 text-white-50">
            Talabalar va ularning oâ€˜quv faoliyati haqida maâ€™lumotlar
        </p>
    </div>
</section>

<!-- ================= SEARCH ================= -->
<div class="container">
    <div class="search-card">
        <form method="GET" class="row g-3">
            <div class="col-md-12">
                <input type="text"
                       name="q"
                       class="form-control form-control-lg"
                       placeholder="Ism, familiya, guruh yoki mavzu boâ€˜yicha qidirish..."
                       value="{{ q }}">
            </div>
        </form>
    </div>
</div>

<!-- ================= CONTENT ================= -->
<div class="container py-5">

    <div class="table-wrapper">

        {% if talabalar %}

        <!-- DESKTOP TABLE -->
        <table class="table table-bordered align-middle">
            <thead class="table-primary text-center">
                <tr>
                    <th>#</th>
                    <th>F.I.Sh</th>
                    <th>Fakultet</th>
                    <th>Guruh</th>
                    <th>Mavzu</th>
                    <th>Oâ€˜quv yili</th>
                </tr>
            </thead>
            <tbody>
            {% for t in talabalar %}
                <tr>
                    <td class="text-center">{{ forloop.counter }}</td>
                    <td>{{ t.first_name }} {{ t.last_name }}</td>
                    <td><span class="badge-box">{{ t.faculty }}</span></td>
                    <td class="fw-bold">{{ t.group_name }}</td>
                    <td>{{ t.theme_name|truncatechars:35 }}</td>
                    <td class="text-center">{{ t.years }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>

        <!-- MOBILE -->
        <div class="mobile-list">
            {% for t in talabalar %}
            <div class="student-card">
                <strong>{{ t.first_name }} {{ t.last_name }}</strong><br>
                ðŸŽ“ {{ t.faculty }}<br>
                ðŸ‘¥ {{ t.group_name }}<br>
                ðŸ“˜ {{ t.theme_name|truncatechars:40 }}<br>
                ðŸ“… {{ t.years }}
            </div>
            {% endfor %}
        </div>

        {% else %}
        <p class="text-center text-muted fs-5">Talaba topilmadi</p>
        {% endif %}

    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>

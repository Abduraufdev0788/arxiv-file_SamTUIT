<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <title>SamTUIT | Professorlar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; }
        .hero-gradient {
            background: linear-gradient(135deg, #0f4c81 0%, #1565a3 50%, #0b6cb8 100%);
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">

<!-- ================= NAVBAR ================= -->
<nav class="bg-white/90 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-6 h-20 flex justify-between items-center">

        <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-gradient-to-br from-[#0f4c81] to-[#0b6cb8]
                        rounded-xl flex items-center justify-center
                        text-white font-black text-2xl shadow-lg">
                S
            </div>
            <div>
                <h1 class="text-xl font-black text-[#0f4c81] leading-none">SamTUIT</h1>
                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">
                    Professorlar bo‚Äòlimi
                </p>
            </div>
        </div>

        <div class="hidden md:flex items-center gap-8">
            <a href="{% url 'index:home_page' %}" class="font-semibold text-slate-600 hover:text-[#0f4c81]">Asosiy</a>
            <a href="{% url 'qarorlar:qarorlar_bosh' %}" class="font-semibold text-slate-600 hover:text-[#0f4c81]">Qarorlar</a>
            <a href="{% url 'talabalar:talabalar' %}" class="font-semibold text-slate-600 hover:text-[#0f4c81]">Talabalar</a>
            <a href="{% url 'teachers:teacher_list' %}" class="font-semibold text-slate-600 hover:text-[#0f4c81]">O'qituvchilar</a>
            <a href="{% url 'professors:professor_list' %}" class="font-semibold text-[#0f4c81] border-b-2 border-[#0f4c81] pb-1">Professorlar</a>
            <a href="{% url 'index:contacts' %}" class="font-semibold text-slate-600 hover:text-[#0f4c81]">Bog‚Äòlanish</a>
        </div>
    </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero-gradient text-white py-20 px-6 relative overflow-hidden">
    <div class="max-w-5xl mx-auto text-center relative z-10">
        <h2 class="text-5xl font-black mb-6 leading-tight">
            Filialdagi faol <br>
            <span class="bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent">
                Professorlar ro‚Äòyxati
            </span>
        </h2>
        <p class="text-blue-100/80 max-w-2xl mx-auto font-medium">
            Professorlarning xizmat faoliyati
        </p>
    </div>
</section>

<!-- ================= FILTER ================= -->
<section class="max-w-7xl mx-auto px-6 -mt-16 relative z-10">
    <form method="get"
          class="bg-white rounded-3xl shadow-2xl p-8 grid grid-cols-1 md:grid-cols-6 gap-4">

        <!-- F.I.Sh -->
        <input type="text"
               name="full_name"
               value="{{ request.GET.full_name }}"
               placeholder="F.I.Sh bo‚Äòyicha qidirish"
               class="md:col-span-2 border rounded-xl px-4 py-3">

        <!-- BO‚ÄòLIM -->
        <select name="ishlagan_bolimi"
                class="border rounded-xl px-4 py-3">
            <option value="">Bo‚Äòlim</option>
            {% for key, value in kafedralar %}
                <option value="{{ key }}"
                    {% if request.GET.ishlagan_bolimi == key %}selected{% endif %}>
                    {{ value }}
                </option>
            {% endfor %}
        </select>

        <!-- LAVOZIM (üî• SHU YERDA OPTION BOR) -->
        <select name="ishlagan_fakultet"
                class="border rounded-xl px-4 py-3">
            <option value="">Fakultet</option>
            {% for key, value in fakultetlar %}
                <option value="{{ key }}"
                    {% if request.GET.ishlagan_fakultet == key %}selected{% endif %}>
                    {{ value }}
                </option>
            {% endfor %}
        </select>

        <!-- PASPORT -->
        <input type="text"
               name="pasport"
               value="{{ request.GET.pasport }}"
               placeholder="Pasport"
               class="border rounded-xl px-4 py-3">

        <!-- SUBMIT -->
        <button type="submit"
                class="bg-blue-600 text-white font-black rounded-xl px-6 py-3 hover:bg-blue-700">
            üîç Qidirish
        </button>

    </form>
</section>

<!-- ================= ACTION BAR ================= -->
<div class="flex justify-between items-center mb-6 mt-10" style = "justify-content:space-around;">

    <h2 class="text-2xl font-black text-slate-800">
        Professorlar ro‚Äòyxati
    </h2>

    <a href="{% url 'professors:professor_create' %}"
       class="inline-flex items-center gap-2
              px-6 py-3 rounded-xl
              bg-gradient-to-r from-emerald-500 to-teal-500
              text-white font-black shadow-lg
              hover:scale-105 transition">

        ‚ûï Professor qo‚Äòshish
    </a>

</div>


<!-- ================= TABLE ================= -->
<section class="max-w-7xl mx-auto px-6 pt-20">
    <div class="bg-white rounded-3xl shadow-xl overflow-x-auto border" style = "width: 127%; margin-left: -176px;">
        <table class="min-w-full text-sm border">
            <thead class="bg-slate-100 text-xs uppercase font-black text-slate-600">
                <tr>
                    <th class="px-4 py-3 text-center">‚Ññ</th>
                    <th class="px-4 py-3">Ism</th>
                    <th class="px-4 py-3">Familiya</th>
                    <th class="px-4 py-3">Bo‚Äòlim</th>
                    <th class="px-4 py-3">Fakultet</th>
                    <th class="px-4 py-3">Qabul sana</th>
                    <th class="px-4 py-3">Chiqish sana</th>
                    <th class="px-4 py-3">Shartnoma ‚Ññ</th>
                    <th class="px-4 py-3">Shartnoma bekor sana</th>
                    <th class="px-4 py-3">Pasport</th>
                    <th class="px-4 py-3">Buyruq</th>
                    <th class="px-4 py-3">Holati</th>
                    <th class="px-4 py-3">Amallar</th>
                </tr>
            </thead>

            <tbody class="divide-y">
                {% for professor in professors %}
                <tr class="hover:bg-blue-50">
                    <td class="px-4 py-2 text-center font-bold">{{ forloop.counter }}</td>

                    <td class="px-4 py-2">{{ professor.first_name }}</td>
                    <td class="px-4 py-2">{{ professor.last_name }}</td>

                    <td class="px-4 py-2 text-center">
                        {{ professor.ishlagan_bolimi }}
                    </td>

                    <td class="px-4 py-2 text-center font-bold text-blue-700">
                        {{ professor.ishlagan_fakultet }}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {{ professor.qabul_sana|date:"d.m.Y" }}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {% if professor.chiqish_sana %}
                            {{ professor.chiqish_sana|date:"d.m.Y" }}
                        {% else %}
                            ‚Äî
                        {% endif %}
                    </td>

                    <td class="px-4 py-2 text-center font-mono">
                        {{ professor.shartnoma_raqami }}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {% if professor.shartnoma_bekor_sana %}
                            {{ professor.shartnoma_bekor_sana|date:"d.m.Y" }}
                        {% else %}
                            ‚Äî
                        {% endif %}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {{ professor.pasport }}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {% if professor.buyruq %}
                            <a href="{{ professor.buyruq.url }}"
                            class="text-blue-600 underline font-bold"
                            target="_blank">
                                Yuklab olish
                            </a>
                        {% else %}
                            ‚Äî
                        {% endif %}
                    </td>

                    <td class="px-4 py-2 text-center">
                        {% if professor.is_active %}
                            <span class="px-3 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-black">
                                Faol
                            </span>
                        {% else %}
                            <span class="px-3 py-1 rounded-full bg-red-100 text-red-700 text-xs font-black">
                                Faol emas
                            </span>
                        {% endif %}
                    </td>

                    <td class="px-4 py-2 text-center">
                        <div class="flex justify-center gap-2">
                            <a href="{% url 'professors:professor_update' professor.id %}"
                            class="px-3 py-1 bg-blue-100 text-blue-700 rounded">
                                ‚úèÔ∏è
                            </a>

                            <form method="post"
                                action="{% url 'professors:professor_delete' professor.id %}"
                                onsubmit="return confirm('O‚Äòchirasanmi?')">
                                {% csrf_token %}
                                <button class="px-3 py-1 bg-red-100 text-red-700 rounded">
                                    üóëÔ∏è
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="15" class="text-center py-10 font-bold text-slate-500">
                        Professorlar topilmadi
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
</section>

<footer class="bg-slate-900 text-slate-400 py-6 mt-20 text-center text-xs font-bold">
    ¬© 2025 SamTUIT | O‚Äòqituvchilar bo‚Äòlimi
</footer>

</body>
</html>
